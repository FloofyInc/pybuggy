(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{19:function(e,t,n){},45:function(e,t,n){e.exports=n(75)},59:function(e,t,n){},75:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(42),r=n.n(i),s=n(5),c=n(6),l=n(8),u=n(7),m=n(21),p=n(9),h=n(15),d=n(18),g=(n(19),n(13)),f=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,a=t.value,o=t.name;n.setState(Object(g.a)({},o,a))},n.onSubmit=function(e){e.preventDefault()},n.state={},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return o.a.createElement("div",{className:"page"},"LANDING PAGE")}}]),t}(a.Component),b=n(23),v=n.n(b),E=n(30),j=n.n(E),y=n(26),S=n.n(y),C=n(29),O=n.n(C),N=(n(57),n(58),n(59),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,a=t.value,o=t.name;n.setState(Object(g.a)({},o,a))},n.onSubmit=function(e){e.preventDefault()},n.chooseProblem=function(e,t,a,o,i,r){n.setState({active:e,currentProblem:{name:t,description:a,code:o},creatingProblem:r,time:new Date,canSubmit:!1,runcount:0,currentAttempts:0,output:i}),fetch("/api/user/data/"+e,{headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then((function(e){if(200===e.status)return e.json()})).then((function(e){if(null!=e.data){var t=n.state.currentProblem;t.code=unescape(e.data.code),n.setState({currentProblem:t,problemComplete:e.data.complete,currentAttempts:e.data.attempts,output:unescape(e.data.output)})}})).catch((function(e){console.error(e),alert("Error checking token")}))},n.createProblem=function(){if(n.state.canSubmit){var e=prompt("Enter your password"),t=n.state.currentProblem.code;t=escape(t),fetch("/api/problems",{method:"POST",body:JSON.stringify({name:n.state.currentProblem.name,description:n.state.currentProblem.description,code:t,password:e,defaultOutput:n.state.output}),headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then((function(e){if(200===e.status)return e.json();throw new Error(e.error)})).then((function(e){console.log(e),window.location.reload()})).catch((function(e){console.error(e),alert("Error logging in please try again")}))}else alert("Run your code first!")},n.deleteProblem=function(e){var t=prompt("Enter your password");fetch("/api/problems",{method:"DELETE",body:JSON.stringify({id:e,password:t}),headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then((function(e){if(200===e.status)return e.json();throw console.log(e),new Error(e.error)})).then((function(e){console.log(e),window.location.reload()})).catch((function(e){console.error(e),alert("Error logging in please try again")}))},n.submitCode=function(e){if(n.state.canSubmit){var t=prompt("Explanation..."),a=n.state.currentProblem.code;a=escape(a),fetch("/api/submit",{method:"POST",body:JSON.stringify({id:e,studentMsg:t}),headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then((function(e){if(200===e.status)return e.json();throw new Error(e.error)})).then((function(e){n.setState({problemComplete:!0})})).catch((function(e){console.error(e),alert("Error logging in please try again")}))}else alert("Run your code first!")},n.onChangeCode=function(e){var t=n.state.currentProblem;t.code=e,n.setState({currentProblem:t,canSubmit:n.state.runcount>0})},n.onPassword=function(e){n.setState({password:e.target.value})},n.onChangeTitle=function(e){var t=n.state.currentProblem;t.name=e.target.value,n.setState({currentProblem:t})},n.onChangeDescription=function(e){var t=n.state.currentProblem;t.description=e.target.value,n.setState({currentProblem:t})},n.onChangeConsole=function(e){console.log(e),n.setState({output:e})},n.runCode=function(e){var t=escape(n.state.currentProblem.code),a=new Date-n.state.time;a/=1e3;var o=Math.round(a);n.setState({canSubmit:!0,runcount:n.state.runcount+1}),fetch("/api/run",{method:"POST",body:JSON.stringify({id:e,code:t,elapsedTime:o}),headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then((function(e){if(200===e.status)return e.json();throw new Error(e.error)})).then((function(e){n.setState({output:e.output,currentAttempts:e.attempts})})).catch((function(e){console.error(e),alert("Error logging in please try again")}))},n.state={isAdmin:!1,problems:[],error:!1,active:"",currentProblem:{name:"",description:"",code:""},output:"",currentAttempts:0,creatingProblem:!1,canSubmit:!1,password:"",time:0,problemComplete:!1,runcount:0},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/problems",{headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then((function(t){if(200===t.status)return t.json();e.setState({error:!0})})).then((function(t){var n=t.data;n.forEach((function(e){return e.code=unescape(e.code)})),e.setState({problems:n})})).catch((function(e){console.error(e),alert("Error checking token")})),fetch("/api/checkToken",{headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then((function(e){if(200===e.status)return e.json()})).then((function(t){t&&e.setState({isAdmin:t.isAdmin})})).catch((function(e){console.error(e),alert("Error checking token")}))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"dash"},o.a.createElement("div",{className:"sidemenu dash-item"},o.a.createElement("div",{className:"problems-header"},"Problems"),this.state.problems.map((function(t){return o.a.createElement(v.a,{className:"problem",variant:e.state.active!=t.id?"outline-dark":"dark",key:t.id,disabled:e.state.active==t.id,onClick:function(){e.chooseProblem(t.id,t.name,t.description,t.code,t.defaultOutput,!1)}},t.name)})),this.state.isAdmin?o.a.createElement(v.a,{className:"problem",variant:"create-problem-button"!=this.state.active?"outline-danger":"danger",key:"create-problem-button",disabled:"create-problem-button"==this.state.active,onClick:function(){e.chooseProblem("create-problem-button","","","","",!0)}},"Add Problem"):o.a.createElement("span",null)),o.a.createElement("div",{className:"dash-content dash-item"},o.a.createElement("div",{className:"dash-content-item editor-container"},o.a.createElement("div",{className:"problem-status"},o.a.createElement("div",{className:"status-item"},this.state.problemComplete?o.a.createElement(S.a,{pill:!0,variant:"success"},"Complete"):o.a.createElement(S.a,{pill:!0,variant:"warning"},"Incomplete")),o.a.createElement("div",{className:"status-item"},o.a.createElement(S.a,{variant:"light"},"Attempts ",o.a.createElement(S.a,{variant:"dark"},this.state.currentAttempts)))),o.a.createElement(O.a,{placeholder:"Enter python code",mode:"python",theme:"github",name:"editor",className:"editor",onLoad:this.onLoad,onChange:this.onChangeCode,fontSize:14,showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,value:this.state.currentProblem.code,height:"95%",width:"99%",wrapEnabled:!0,setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:4,readOnly:""===this.state.active},key:this.state.active+"-editor"})),o.a.createElement("div",{className:"dash-content-item right-side"},o.a.createElement("div",{className:"problem-info"},this.state.isAdmin&&this.state.creatingProblem?o.a.createElement(j.a.Control,{className:"title",type:"text",placeholder:"Enter problem title",onChange:this.onChangeTitle}):o.a.createElement("div",{className:"title"},this.state.currentProblem.name),this.state.isAdmin&&this.state.creatingProblem?o.a.createElement(j.a.Control,{className:"description",as:"textarea",rows:"3",onChange:this.onChangeDescription}):o.a.createElement("div",{className:"description"},this.state.currentProblem.description)),o.a.createElement("div",{className:"console"},o.a.createElement(O.a,{placeholder:"",mode:"xml",theme:"github",name:"console",className:"console-editor",onLoad:this.onLoad,onChange:this.onChangeConsole,fontSize:12,showPrintMargin:!1,showGutter:!0,highlightActiveLine:!1,value:this.state.output,height:"100%",width:"100%",wrapEnabled:!0,setOptions:{enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,enableSnippets:!1,showLineNumbers:!1,tabSize:2,readOnly:!this.state.creatingProblem}})),o.a.createElement(v.a,{className:"problem",variant:"danger",onClick:function(){e.runCode(e.state.active)},disabled:""===this.state.active},"Run Code"),this.state.isAdmin&&this.state.creatingProblem?o.a.createElement(v.a,{className:"problem",variant:"success",onClick:function(){e.createProblem()},disabled:""===this.state.active},"Submit Problem"):o.a.createElement(v.a,{className:"problem",variant:"primary",onClick:function(){e.submitCode(e.state.active)},disabled:""===this.state.active&&0==this.state.canSubmit},"Submit"),this.state.isAdmin&&!this.state.creatingProblem?o.a.createElement(v.a,{className:"problem",variant:"dark",onClick:function(){e.deleteProblem(e.state.active)},disabled:""===this.state.active},"Delete Problem"):o.a.createElement("span",null))))}}]),t}(a.Component)),A=Object(d.f)(N),k=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,a=t.value,o=t.name;n.setState(Object(g.a)({},o,a))},n.onSubmit=function(e){e.preventDefault()},n.state={msg:"",isLoggedIn:!1,loading:!0,firstname:"",lastname:"",isAdmin:"",parentSet:!1},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/checkToken",{headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then((function(t){if(200===t.status)return e.setState({msg:"USER LOGGED IN!",isLoggedIn:!0,loading:!1}),t.json();e.setState({msg:"PLEASE LOGIN FIRST.",isLoggedIn:!1,loading:!1})})).then((function(t){console.log(t),t&&(e.setState({firstname:t.firstname,lastname:t.lastname}),e.setState({isAdmin:t.isAdmin}))})).catch((function(e){console.error(e),alert("Error checking token")}))}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=o.a.createElement("div",null,"LOADING...");return e=this.state.loading?e:this.state.isLoggedIn?o.a.createElement(A,null):o.a.createElement(f,null)}}]),t}(a.Component),w=Object(d.f)(k),L=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,a=t.value,o=t.name;n.setState(Object(g.a)({},o,a))},n.onSubmit=function(e){e.preventDefault(),fetch("/api/signin",{method:"POST",body:JSON.stringify(n.state),headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then((function(e){if(200===e.status)return n.props.login(),n.props.history.push("/"),e.json();throw console.log(e),new Error(e.error)})).then((function(e){n.props.setName(e),n.props.setAdmin(e.isAdmin)})).catch((function(e){console.error(e),alert("Error logging in please try again")}))},n.state={user:"",password:"",isLoggedIn:!1},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/checkToken",{headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then((function(t){if(200===t.status)return e.setState({isLoggedIn:!0}),t.json();e.setState({isLoggedIn:!1})})).then((function(e){console.log(e)})).catch((function(e){console.error(e),alert("Error checking token")}))}},{key:"render",value:function(){var e=o.a.createElement("form",{onSubmit:this.onSubmit},o.a.createElement("h1",null,"Login Below!"),o.a.createElement("input",{type:"text",name:"user",placeholder:"Email or Username",value:this.state.user,onChange:this.handleInputChange,required:!0}),o.a.createElement("input",{type:"password",name:"password",placeholder:"Enter password",value:this.state.password,onChange:this.handleInputChange,required:!0}),o.a.createElement("input",{type:"submit",value:"Submit"}));return this.state.isLoggedIn?this.props.history.push("/"):e}}]),t}(a.Component),P=Object(d.f)(L),I=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,a=t.value,o=t.name;n.setState(Object(g.a)({},o,a))},n.onSubmit=function(e){e.preventDefault(),fetch("/api/signup",{method:"POST",body:JSON.stringify(n.state),headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then((function(e){if(200===e.status)return n.props.login(),n.props.history.push("/"),e.json();throw new Error(e.error)})).then((function(e){n.props.setName(e),n.props.setAdmin(e.isAdmin)})).catch((function(e){console.error(e),alert("Error logging in please try again")}))},n.state={email:"",username:"",password:"",firstname:"",lastname:"",type:0,isLoggedIn:!1},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/checkToken",{headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then((function(t){200===t.status?e.setState({isLoggedIn:!0}):e.setState({isLoggedIn:!1})})).catch((function(e){console.error(e),alert("Error checking token")}))}},{key:"render",value:function(){var e=o.a.createElement("form",{onSubmit:this.onSubmit},o.a.createElement("h1",null,"Login Below!"),o.a.createElement("input",{type:"email",name:"email",placeholder:"Email",value:this.state.email,onChange:this.handleInputChange,required:!0}),o.a.createElement("input",{type:"text",name:"username",placeholder:"Username",value:this.state.username,onChange:this.handleInputChange,required:!0}),o.a.createElement("input",{type:"password",name:"password",placeholder:"Enter password",value:this.state.password,onChange:this.handleInputChange,required:!0}),o.a.createElement("input",{type:"text",name:"firstname",placeholder:"First Name",value:this.state.firstname,onChange:this.handleInputChange,required:!0}),o.a.createElement("input",{type:"text",name:"lastname",placeholder:"Last Name",value:this.state.lastname,onChange:this.handleInputChange,required:!0}),o.a.createElement("select",{name:"type",value:this.state.type,onChange:this.handleInputChange},o.a.createElement("option",{value:0},"0"),o.a.createElement("option",{value:1},"1"),o.a.createElement("option",{value:2},"2")),o.a.createElement("input",{type:"submit",value:"Submit"}));return this.state.isLoggedIn?this.props.history.push("/"):e}}]),t}(a.Component),T=Object(d.f)(I),x=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,a=t.value,o=t.name;n.setState(Object(g.a)({},o,a))},n.onSubmit=function(e){e.preventDefault()},n.state={email:"",password:"",isLoggedIn:!1},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;document.cookie="token=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/;",fetch("/api/signout",{method:"POST",body:JSON.stringify(this.state),headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then((function(t){200===t.status?(e.setState({isLoggedIn:!1}),e.props.logout(),e.props.setName({firstname:"",lastname:""}),e.props.setAdmin(!1),e.props.history.push("/")):e.setState({isLoggedIn:!0})})).catch((function(e){console.error(e),alert("Error checking token")}))}},{key:"render",value:function(){return o.a.createElement("div",null,"Logged out!")}}]),t}(a.Component),D=Object(d.f)(x),G=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={error:null,isLoaded:!1,isAdmin:!1,items:{},isLoggedIn:!1,firstname:"",lastname:"",refreshed:!0},n.login=n.login.bind(Object(m.a)(n)),n.logout=n.logout.bind(Object(m.a)(n)),n.setName=n.setName.bind(Object(m.a)(n)),n.setAdmin=n.setAdmin.bind(Object(m.a)(n)),n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"login",value:function(){this.setState({isLoggedIn:!0})}},{key:"logout",value:function(){this.setState({isLoggedIn:!1})}},{key:"setName",value:function(e){this.setState(e)}},{key:"setAdmin",value:function(e){this.setState({isAdmin:e})}},{key:"componentDidMount",value:function(){var e=this;fetch("/api/checkToken",{headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then((function(t){if(200===t.status)return e.setState({msg:"USER LOGGED IN!",isLoggedIn:!0,loading:!1}),t.json();e.setState({msg:"PLEASE LOGIN FIRST.",isLoggedIn:!1,loading:!1})})).then((function(t){t&&(e.setState({firstname:t.firstname,lastname:t.lastname}),e.setState({isAdmin:t.isAdmin}))})).catch((function(e){console.error(e),alert("Error checking token")}))}},{key:"render",value:function(){var e=this,t=this.state.isLoggedIn?o.a.createElement("div",{className:"nav-item"},o.a.createElement(h.b,{to:"/logout"},"Logout")):o.a.createElement("div",null,o.a.createElement("div",{className:"nav-item"},o.a.createElement(h.b,{to:"/login"},"Login")),o.a.createElement("div",{className:"nav-item"},o.a.createElement(h.b,{to:"/register"},"Register")));return o.a.createElement(h.a,null,o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"nav"},o.a.createElement("div",{className:"logo"},"LOGO"),o.a.createElement("div",{className:"nav-cont"},this.state.isAdmin?o.a.createElement("div",{className:"admin-tag"},"A"):o.a.createElement("span",null),o.a.createElement("div",{className:"firstname"},this.state.firstname),o.a.createElement("div",{className:"lastname"},this.state.lastname),o.a.createElement("div",{className:"nav-item"},o.a.createElement(h.b,{to:"/"},"Home")),t)),o.a.createElement("div",{className:"content"},o.a.createElement(d.c,null,o.a.createElement(d.a,{exact:!0,path:"/",component:function(){return o.a.createElement(w,{login:e.login,logout:e.logout,setName:e.setName,setAdmin:e.setAdmin})}}),o.a.createElement(d.a,{exact:!0,path:"/login",component:function(){return o.a.createElement(P,{login:e.login,logout:e.logout,setName:e.setName,setAdmin:e.setAdmin})}}),o.a.createElement(d.a,{exact:!0,path:"/logout",component:function(){return o.a.createElement(D,{login:e.login,logout:e.logout,setName:e.setName,setAdmin:e.setAdmin})}}),o.a.createElement(d.a,{exact:!0,path:"/register",component:function(){return o.a.createElement(T,{login:e.login,logout:e.logout,setName:e.setName,setAdmin:e.setAdmin})}})))))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[45,1,2]]]);
//# sourceMappingURL=main.aa7a8993.chunk.js.map